get:
  summary: Current Account Prices
  description: Get pricing information for a specified list of Instruments within an Account.
  tags:
    - Pricing
  parameters:
    - $ref: ../../shared/parameters.yaml#/AccountID
    - $ref: ../../shared/parameters.yaml#/AcceptDatetimeFormat
    - name: instruments
      description: List of Instruments to get pricing for.
      in: query
      type: array
      items:
        $ref: ../../instruments/types/InstrumentName.yaml
      collectionFormat: csv
      required: true
    - name: since
      description: Date/Time filter to apply to the response. Only prices and home conversions (if requested) with a time later than this filter (i.e. the price has changed after the since time) will be provided, and are filtered independently.
      in: query
      type: string # TODO: check for UNIX and RFC3339 datetime pattern
    - name: includeUnitsAvailable
      description: Flag that enables the inclusion of the unitsAvailable field in the returned Price objects.
      in: query
      type: boolean
    - name: includeHomeConversions
      description: Flag that enables the inclusion of the homeConversions field in the returned response. An entry will be returned for each currency in the set of all base and quote currencies present in the requested instruments list.
      in: query
      type: boolean
  responses:
    200:
      description: Pricing information has been successfully provided.
      headers:
        RequestID:
          $ref: ../../shared/headers.yaml#RequestID
      content:
        application/json:
          schema:
            type: object
            properties:
              prices:
                type: array
                description: The list of Price objects requested.
                items:
                  $ref: ../types/ClientPrice.yaml
              homeConversions:
                type: array
                description: The list of home currency conversion factors requested. This field will only be present if includeHomeConversions was set to true in the request.
                items:
                  $ref: ../types/HomeConversions.yaml
              time:
                type: string # TODO: check for UNIX and RFC3339 datetime pattern
                description: The DateTime value to use for the "since" parameter in the next poll request.
    400:
      $ref: ../../shared/errors.yaml#/400
    401:
      $ref: ../../shared/errors.yaml#/401
    404:
      $ref: ../../shared/errors.yaml#/404
    405:
      $ref: ../../shared/errors.yaml#/405