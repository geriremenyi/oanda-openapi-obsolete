get:
  summary: Current Account Prices
  description: Get pricing information for a specified list of Instruments within an Account.
  tags:
    - Pricing
  parameters:
    - $ref: ../../shared/parameters/AccountID.yaml
    - $ref: ../../shared/parameters/AcceptDatetimeFormat.yaml
    - name: instruments
      description: List of Instruments to get pricing for.
      in: query
      schema:
        type: array
        items:
          $ref: ../../instruments/types/InstrumentName.yaml
      style: form
      explode: false
      required: true
    - name: since
      description: Date/Time filter to apply to the response. Only prices and home conversions (if requested) with a time later than this filter (i.e. the price has changed after the since time) will be provided, and are filtered independently.
      in: query
      schema:
        type: string # TODO: check for UNIX and RFC3339 datetime pattern
    - name: includeUnitsAvailable
      description: Flag that enables the inclusion of the unitsAvailable field in the returned Price objects.
      in: query
      schema:
        type: boolean
    - name: includeHomeConversions
      description: Flag that enables the inclusion of the homeConversions field in the returned response. An entry will be returned for each currency in the set of all base and quote currencies present in the requested instruments list.
      in: query
      schema:
        type: boolean
  responses:
    200:
      description: Pricing information has been successfully provided.
      headers:
        RequestID:
          $ref: ../../shared/headers/RequestID.yaml
      content:
        application/json:
          schema:
            type: object
            properties:
              prices:
                type: array
                description: The list of Price objects requested.
                items:
                  $ref: ../types/ClientPrice.yaml
              homeConversions:
                type: array
                description: The list of home currency conversion factors requested. This field will only be present if includeHomeConversions was set to true in the request.
                items:
                  $ref: ../types/HomeConversions.yaml
              time:
                type: string # TODO: check for UNIX and RFC3339 datetime pattern
                description: The DateTime value to use for the "since" parameter in the next poll request.
    400:
      $ref: ../../shared/errors/400.yaml
    401:
      $ref: ../../shared/errors/401.yaml
    404:
      $ref: ../../shared/errors/404.yaml
    405:
      $ref: ../../shared/errors/405.yaml